            btn.setAttribute('aria-label', icon.label);

            const svgContent = getIconSVG(icon.icon);

            btn.innerHTML = `
                <div class="mobile-app-icon" style="background: linear-gradient(180deg, ${icon.accent || 'var(--ink)'} 0%, rgba(0, 0, 0, 0.22) 100%);">
                    <svg viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" style="color: white;">${svgContent}</svg>
                </div>
                ${!isDock ? `<div class="mobile-app-label">${icon.label}</div>` : ''}
             `;

            btn.addEventListener('click', (e) => {
                e.stopPropagation();
                btn.firstElementChild.style.transform = 'scale(0.92)';
                setTimeout(() => btn.firstElementChild.style.transform = '', 150);

                openIcon(index);
            });

            return btn;
        }

    </script>
    <script src="assets/js/githubUpdates.js"></script>
</body>

</html>
        /* --- Dynamic Weather Styles --- */
        :root {
            --wx-sunny-bg: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%); /* Clear Blue Sky */
            --wx-night-bg: linear-gradient(135deg, #0f172a 0%, #1e293b 100%); /* Deep Night */
            --wx-cloudy-bg: linear-gradient(135deg, #64748b 0%, #475569 100%); /* Overcast Grey */
            --wx-rain-bg: linear-gradient(135deg, #334155 0%, #1e293b 100%); /* Dark Rain */
            --wx-snow-bg: linear-gradient(135deg, #94a3b8 0%, #64748b 100%); /* Cold Grey */
            --wx-thunder-bg: linear-gradient(135deg, #1e1b4b 0%, #312e81 100%); /* Stormy Purple */
        }

        /* Modal Overrides based on data-weather attribute */
        .modal-window[data-weather="sunny"] .window-chrome,
        .modal-window[data-weather="sunny"] .modal-content { background: var(--wx-sunny-bg); color: white; }

        .modal-window[data-weather="partly"] .window-chrome,
        .modal-window[data-weather="partly"] .modal-content { background: var(--wx-sunny-bg); color: white; }

        .modal-window[data-weather="night"] .window-chrome,
        .modal-window[data-weather="night"] .modal-content { background: var(--wx-night-bg); color: white; }

        .modal-window[data-weather="cloudy"] .window-chrome,
        .modal-window[data-weather="cloudy"] .modal-content { background: var(--wx-cloudy-bg); color: white; }

        .modal-window[data-weather="rain"] .window-chrome,
        .modal-window[data-weather="rain"] .modal-content { background: var(--wx-rain-bg); color: white; }

        .modal-window[data-weather="snow"] .window-chrome,
        .modal-window[data-weather="snow"] .modal-content { background: var(--wx-snow-bg); color: white; }

        .modal-window[data-weather="thunder"] .window-chrome,
        .modal-window[data-weather="thunder"] .modal-content { background: var(--wx-thunder-bg); color: white; }

        /* fix chrome borders when themed */
        .modal-window[data-weather] .window-chrome { border-bottom-color: rgba(255,255,255,0.1); }
        .modal-window[data-weather] .modal-footer { background: rgba(0,0,0,0.2); border-top-color: rgba(255,255,255,0.1); color: rgba(255,255,255,0.7); }
        .modal-window[data-weather] .window-title { color: white; }
        .modal-window[data-weather] .window-controls button { background: rgba(255,255,255,0.2); }

        /* Weather Card Layout */
        .weather-card {
            display: flex;
            flex-direction: column;
            gap: 24px;
            text-align: center;
            padding-top: 10px;
        }

        .weather-main {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 4px;
        }

        .weather-main-temp {
            font-size: 48px;
            font-weight: 700;
            letter-spacing: -0.03em;
            line-height: 1;
        }
        
        .weather-main-condition {
            font-size: 16px;
            font-weight: 500;
            opacity: 0.9;
            text-transform: capitalize;
        }

        .weather-main-icon {
            width: 80px;
            height: 80px;
            margin-bottom: 8px;
        }
        
        .weather-main-icon svg {
            width: 100%;
            height: 100%;
            display: block;
        }

        .weather-forecast {
            display: flex;
            justify-content: space-between;
            background: rgba(0,0,0,0.15);
            border-radius: 12px;
            padding: 12px 16px;
        }

        .forecast-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 4px;
            font-size: 12px;
        }

        .forecast-time { opacity: 0.7; }
        .forecast-temp { font-weight: 600; font-size: 14px; }
        .forecast-icon { width: 24px; height: 24px; }

        /* Animations */
        @keyframes spin { 100% { transform: rotate(360deg); } }
        @keyframes pulse-flash { 0%, 100% { opacity: 1; } 50% { opacity: 0.6; } }
        @keyframes drift { 0% { transform: translateX(0); } 50% { transform: translateX(4px); } 100% { transform: translateX(0); } }
        @keyframes rain-drop { 0% { transform: translateY(0); opacity: 0; } 50% { opacity: 1; } 100% { transform: translateY(10px); opacity: 0; } }

        .weather-anim.weather-sunny .sun-core { animation: pulse-flash 3s ease-in-out infinite; }
        .weather-anim.weather-sunny path { animation: spin 12s linear infinite; transform-origin: center; }
        
        .weather-anim.weather-partly .sun-core { animation: pulse-flash 3s ease-in-out infinite; }
        
        .weather-anim.weather-rain .drop { animation: rain-drop 1s linear infinite; }
        .weather-anim.weather-rain .drop:nth-child(2) { animation-delay: 0.2s; }
        .weather-anim.weather-rain .drop:nth-child(3) { animation-delay: 0.4s; }

        .weather-anim.weather-snow .flake { animation: drift 3s ease-in-out infinite; }
        .weather-anim.weather-snow .flake:nth-child(2) { animation-delay: 1s; }

        .weather-anim.weather-thunder .bolt { animation: pulse-flash 0.5s ease-in-out infinite; }
